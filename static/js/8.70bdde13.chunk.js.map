{"version":3,"sources":["components/shared/modal/index.tsx","components/shared/text-input/index.tsx","components/shared/text-input/text-input.module.css","components/shared/modal/modal.module.css","components/sign-up/sign-up.module.css","components/sign-up/sign-up.tsx","components/sign-up/index.ts","redux/modules/auth/actions.ts","components/shared/button/index.tsx","redux/modules/auth/thunks.ts","components/shared/button/button.module.css"],"names":["ModalComponent","props","open","title","detail","close","callback","submitting","children","okButton","className","styles","modalContainer","modal","modalHeader","body","buttons","onClick","button","onlyButton","disabled","cancel","TextInput","meta","input","label","placeholder","container","labelText","type","error","touched","errorText","module","exports","Login","isFetching","useState","created","setCreated","history","useHistory","onSubmit","values","a","password","email","signUpWithFirebase","response","payload","code","FORM_ERROR","console","log","replace","logoContainer","logoTitle","logoSubtitle","render","handleSubmit","submitError","form","name","component","loginButton","message","connect","state","auth","dispatch","bindActionCreators","Component","loginWithFirebaseFetching","action","TYPES","LOGIN_FIREBASE_FETCHING","loginWithFirebaseFulfilled","data","LOGIN_FIREBASE_FULFILLED","loginWithFirebaseRejected","LOGIN_FIREBASE_REJECTED","logoutFetching","LOGOUT_FETCHING","logoutFulfilled","LOGOUT_FULFILLED","logoutRejected","LOGOUT_REJECTED","setFingerPrint","value","SET_FINGER_PRINT","signUpWithFirebaseFetching","SIGN_UP_FIREBASE_FETCHING","signUpWithFirebaseFulfilled","SIGN_UP_FIREBASE_FULFILLED","signUpWithFirebaseRejected","SIGN_UP_FIREBASE_REJECTED","Button","size","color","loading","loginWithFirebase","params","ACTIONS","Firebase","app","signInWithEmailAndPassword","trim","logout","localStorage","removeItem","signOut","createUserWithEmailAndPassword"],"mappings":"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","file":"static/js/8.70bdde13.chunk.js","sourcesContent":["import React from 'react'\nimport Modal from '@material-ui/core/Modal';\nimport Button from 'components/shared/button'\nimport styles from './modal.module.css'\n\ninterface Props {\n  open: boolean;\n  title: string;\n  detail: string;\n  submitting?: boolean;\n  close: () => void;\n  callback: (params: any) => void;\n  children?: React.ReactElement;\n  okButton?: {\n    title: string;\n    onClick: () => void;\n    onlyButton?: boolean\n  }\n}\n\nconst ModalComponent = (props: Props) => {\n\n  const { \n    open, \n    title, \n    detail,\n    close,\n    callback,\n    submitting,\n    children,\n    okButton,\n  } = props\n\n  return (\n    <Modal\n    className={styles.modalContainer}\n    open={open}\n  >\n    {children || (\n        <div className={styles.modal}>\n          <div className={styles.modalHeader}>\n            {title}\n          </div>\n          <div className={styles.body}>\n            <div className={styles.detail}>\n              {detail}\n            </div>\n            <div className={styles.buttons}>\n              <Button\n                submitting={submitting}\n                onClick={callback}\n                className={styles.button}\n              >\n                {okButton ? okButton.title : 'Yes'}\n              </Button>\n              {okButton?.onlyButton ? null : (\n                <Button\n                  disabled={submitting}\n                  onClick={close} \n                  className={`${styles.button} ${styles.cancel}`}\n                  >\n                  Cancel\n                </Button>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n  </Modal>\n  )\n}\n\nexport default ModalComponent","import React from 'react';\nimport { FieldRenderProps } from 'react-final-form';\nimport styles from './text-input.module.css';\n\ninterface Props extends FieldRenderProps<string, any> {\n  label?: string;\n  placeholder?: string;\n}\n\nexport const TextInput = (props: Props) => {\n\n  const { meta, input, label, placeholder } = props\n\n  return (\n    <div className={styles.container}>\n      <label className={styles.label}>\n        {label && (\n          <span className={styles.labelText}>\n            {label}\n          </span>\n        )}\n        <input \n          className={styles.input} \n          type=\"text\"\n          placeholder={placeholder}\n          {...input} \n        />\n      </label>\n      <div className={styles.error}>\n        {meta.error && meta.touched && (\n          <span className={styles.errorText}>\n            {meta.error}\n          </span>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default TextInput;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"text-input_container__-16Gn\",\"label\":\"text-input_label__1DFnE\",\"labelText\":\"text-input_labelText__3rZnL\",\"input\":\"text-input_input__iYmA8\",\"error\":\"text-input_error__1GFd1\",\"errorText\":\"text-input_errorText__1J0Vw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalContainer\":\"modal_modalContainer__1B0MT\",\"modal\":\"modal_modal__1jijj\",\"modalHeader\":\"modal_modalHeader__3lf-q\",\"body\":\"modal_body__2LAWM\",\"detail\":\"modal_detail__1dAuZ\",\"buttons\":\"modal_buttons__1Nv22\",\"button\":\"modal_button__V_ZdM\",\"cancel\":\"modal_cancel__3W0Eq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"sign-up_container__29EkW\",\"logoContainer\":\"sign-up_logoContainer__2V9GG\",\"logoTitle\":\"sign-up_logoTitle__3Y58h\",\"logoSubtitle\":\"sign-up_logoSubtitle__12aIW\",\"form\":\"sign-up_form__Vahsl\",\"loginButton\":\"sign-up_loginButton__3nm2b\",\"error\":\"sign-up_error__1sUmg\",\"message\":\"sign-up_message__1rIu7\"};","import React, { useState } from 'react'\nimport { Form, Field } from 'react-final-form'\nimport TextInput from 'components/shared/text-input'\nimport Button from 'components/shared/button'\nimport { FORM_ERROR } from 'final-form';\nimport { useHistory } from \"react-router-dom\";\nimport Modal from 'components/shared/modal'\nimport { ReduxProps } from '.';\nimport styles from './sign-up.module.css'\n\nexport const Login = (props: ReduxProps) => { \n  const { isFetching } = props\n  const [ created, setCreated ] = useState(false)\n  const history = useHistory();\n\n  const onSubmit = async (values: any) => {\n    const { password, email } = values;\n    let error\n    try {\n      const response: any = await props.signUpWithFirebase({ email, password })\n      switch (response.payload.code) {\n        case 'auth/email-already-in-use':\n          error = 'Email already in use'\n          break\n        case 'auth/invalid-email':\n          error = 'Email not valid'\n          break\n        case 'auth/network-request-failed':\n          error = 'Error de conexión'\n          break\n        case 'auth/too-many-requests':\n          error = 'Muchos intentos fallidos. Intente en unos minutos.'\n          break\n      }\n      if(error) {\n        return { [FORM_ERROR]: error };\n      }\n      setCreated(true)\n    }\n    catch (error) {\n      return { [FORM_ERROR]: error };\n    }\n  }\n\n  return (\n    <div className={styles.container}>\n      <Modal\n        open={created}\n        close={() => console.log('a')}\n        callback={() => history.replace('/login')}\n        title=\"Created\"\n        detail=\"Your account was created successfully\"\n        okButton={{\n          title: 'Go to Login',\n          onClick: () => history.replace('/login'),\n          onlyButton: true\n        }}\n      />\n      <div className={styles.logoContainer}>\n        <div className={styles.logoTitle}>\n          MyPassword\n        </div>\n        <div className={styles.logoSubtitle}>\n         Sign Up\n        </div>\n      </div>\n      <Form\n        onSubmit={onSubmit}\n        render={({ handleSubmit, submitError, values }) => (\n          <form onSubmit={handleSubmit} className={styles.form}>\n            {console.log(submitError)}\n            <Field \n              name=\"email\"\n              placeholder=\"Email\"\n              type=\"text\"\n              component={TextInput}\n            />\n            <Field \n              name=\"password\"\n              placeholder=\"Password\"\n              type=\"password\"\n              component={TextInput} \n            />\n            <div className={styles.loginButton}>\n              <Button \n                type=\"submit\"\n                disabled={isFetching || !values.email || !values.password}\n                submitting={isFetching}\n                >\n                Create Account\n              </Button>\n            </div>\n            <div className={styles.error}>\n              {submitError}\n            </div>\n          </form>\n        )}\n      />\n      <div className={styles.message}>\n        Your password is used to encrypt the other passwords stored in the database.\n        <br/>\n        If you forget this password, you will not be able to recover the other passwords.\n      </div>\n    </div>\n  )\n}\n\nexport default Login","import { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { DVPState, RootAction } from 'redux/modules';\nimport { signUpWithFirebase } from 'redux/modules/auth/thunks';\nimport Component from './sign-up'\n\ninterface StateProps {\n  readonly isFetching: DVPState['auth']['isFetching'];\n}\n\nconst mapStateToProps = (state: DVPState) => ({\n  isFetching: state.auth.isFetching,\n});\n\ninterface DispatchProps {\n  handleSubmit: () => void;\n  signUpWithFirebase: typeof signUpWithFirebase;\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch<RootAction>) =>\n  bindActionCreators({\n    signUpWithFirebase,\n  }, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Component)\nexport type ReduxProps = StateProps & DispatchProps\n","import * as TYPES from './types';\nimport { action } from 'typesafe-actions';\n\nexport const loginWithFirebaseFetching = () => action(\n  TYPES.AuthActionConst.LOGIN_FIREBASE_FETCHING,\n);\n\nexport const loginWithFirebaseFulfilled = (data: any, password:string) => action(\n  TYPES.AuthActionConst.LOGIN_FIREBASE_FULFILLED,\n  data,\n  password,\n);\n\nexport const loginWithFirebaseRejected = (error: TYPES.FirebaseError) => action(\n  TYPES.AuthActionConst.LOGIN_FIREBASE_REJECTED,\n  error,\n);\n\nexport const logoutFetching = () => action(\n  TYPES.AuthActionConst.LOGOUT_FETCHING,\n);\n\nexport const logoutFulfilled = () => action(\n  TYPES.AuthActionConst.LOGOUT_FULFILLED,\n);\n\nexport const logoutRejected = (error: TYPES.Error) => action(\n  TYPES.AuthActionConst.LOGOUT_REJECTED,\n  error\n);\n\nexport const setFingerPrint = (value: boolean) => action(\n  TYPES.AuthActionConst.SET_FINGER_PRINT,\n  value\n);\n\nexport const signUpWithFirebaseFetching = () => action(\n  TYPES.AuthActionConst.SIGN_UP_FIREBASE_FETCHING,\n);\n\nexport const signUpWithFirebaseFulfilled = (data: any) => action(\n  TYPES.AuthActionConst.SIGN_UP_FIREBASE_FULFILLED,\n  data,\n);\n\nexport const signUpWithFirebaseRejected = (error: TYPES.FirebaseError) => action(\n  TYPES.AuthActionConst.SIGN_UP_FIREBASE_REJECTED,\n  error,\n);","import React from 'react';\nimport PulseLoader from 'react-spinners/PulseLoader'\nimport styles from './button.module.css';\n\ninterface Props {\n  children: React.ReactNode;\n  type?: \"button\" | \"submit\" | \"reset\" | undefined;\n  submitting?: boolean;\n  disabled?: boolean;\n  onClick?: (params?: any) => void;\n  className?: string;\n}\n\nexport const Button = (props: Props) => {\n\n  const { \n    type = 'button',\n    children,\n    disabled,\n    submitting,\n    onClick,\n    className\n  } = props\n\n  return (\n    <button \n      type={type}\n      disabled={disabled || submitting}\n      className={`${styles.button} ${className}`}\n      onClick={onClick}\n    >\n      {submitting \n        ? (<PulseLoader\n            size={5}\n            color={'#292724'}\n            loading={true}\n          />) \n        : children\n      }\n    </button>\n  );\n}\n\nexport default Button;\n","import * as TYPES from './types';\nimport * as ACTIONS from './actions';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { DVPState } from 'redux/modules/index';\nimport { AnyAction } from 'redux';\nimport Firebase from 'helpers/firebase';\n\nexport const loginWithFirebase = (params: TYPES.LoginParams) =>\n  async (dispatch: ThunkDispatch<DVPState, {}, AnyAction>) => {\n    dispatch(ACTIONS.loginWithFirebaseFetching());\n    try {\n      const response: any = await Firebase.app.auth().signInWithEmailAndPassword(params.email.trim(), params.password.trim());\n      return dispatch(ACTIONS.loginWithFirebaseFulfilled(response, params.password.trim()));\n    }\n    catch (error) {\n      return dispatch(ACTIONS.loginWithFirebaseRejected(error));\n    }\n  };\n\nexport const logout: any = () => async (dispatch: ThunkDispatch<DVPState, {}, AnyAction>) => {\n  dispatch(ACTIONS.logoutFetching());\n  try {\n    await localStorage.removeItem('users');\n    await Firebase.app.auth().signOut();\n    return dispatch(ACTIONS.logoutFulfilled());\n  }\n  catch (error) {\n    return dispatch(ACTIONS.logoutRejected(error));\n  }\n};\n\nexport const signUpWithFirebase = (params: TYPES.LoginParams) =>\n  async (dispatch: ThunkDispatch<DVPState, {}, AnyAction>) => {\n    dispatch(ACTIONS.signUpWithFirebaseFetching());\n    try {\n      const response: any = await Firebase.app.auth().createUserWithEmailAndPassword(params.email.trim(), params.password.trim())\n      return dispatch(ACTIONS.signUpWithFirebaseFulfilled(response));\n    }\n    catch (error) {\n      return dispatch(ACTIONS.signUpWithFirebaseRejected(error));\n    }\n  };","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__3p82B\"};"],"sourceRoot":""}