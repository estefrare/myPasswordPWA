(this["webpackJsonpmy-password-pwa"]=this["webpackJsonpmy-password-pwa"]||[]).push([[5],{60:function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return s}));var n=r(57),a=r.n(n),i=r(58),o=r(61),u=function(){var e=Object(i.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={challenge:Uint8Array.from("someChallengeIsHereComOn",(function(e){return e.charCodeAt(0)})),rp:{name:"WebAuthn Test"},user:{id:Uint8Array.from(t,(function(e){return e.charCodeAt(0)})),name:t,displayName:t},pubKeyCredParams:[{alg:-7,type:"public-key"}],authenticatorSelection:{authenticatorAttachment:"platform"},timeout:6e4,attestation:"direct"},e.next=3,navigator.credentials.create({publicKey:r});case 3:n=e.sent,c(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=localStorage.getItem("users"),t=(e?JSON.parse(e):[]).credentials.map((function(e){return{type:"public-key",id:Uint8Array.from(Object.values(e.credentialId))}})),r={challenge:Uint8Array.from("someChallengeIsHereComOn",(function(e){return e.charCodeAt(0)})),allowCredentials:t};return navigator.credentials.get({publicKey:r})},c=function(e){var t={credentials:[]},r=f(e),n=l(r),a=r.slice(55,55+n),i=r.slice(55+n);return t.credentials.push({credentialId:a,publicKey:i}),t.id=""+Math.floor(1e7*Math.random()),localStorage.setItem("users",JSON.stringify(t)),!0},l=function(e){var t=new DataView(new ArrayBuffer(2));return e.slice(53,55).forEach((function(e,r){return t.setUint8(r,e)})),t.getUint16(0)},f=function(e){return o.decode(e.response.attestationObject).authData}},61:function(e,t,r){!function(t,r){"use strict";var n={encode:function(e){var t,r=new ArrayBuffer(256),n=new DataView(r),a=0;function i(e){for(var i=r.byteLength,o=a+e;i<o;)i<<=1;if(i!==r.byteLength){var u=n;r=new ArrayBuffer(i),n=new DataView(r);for(var s=a+3>>2,c=0;c<s;++c)n.setUint32(c<<2,u.getUint32(c<<2))}return t=e,n}function o(){a+=t}function u(e){o(i(1).setUint8(a,e))}function s(e){for(var t=i(e.length),r=0;r<e.length;++r)t.setUint8(a+r,e[r]);o()}function c(e,t){t<24?u(e<<5|t):t<256?(u(e<<5|24),u(t)):t<65536?(u(e<<5|25),function(e){o(i(2).setUint16(a,e))}(t)):t<4294967296?(u(e<<5|26),function(e){o(i(4).setUint32(a,e))}(t)):(u(e<<5|27),function(e){var t=e%4294967296,r=(e-t)/4294967296,n=i(8);n.setUint32(a,r),n.setUint32(a+4,t),o()}(t))}if(function e(t){var r;if(!1===t)return u(244);if(!0===t)return u(245);if(null===t)return u(246);if(void 0===t)return u(247);switch(typeof t){case"number":if(Math.floor(t)===t){if(0<=t&&t<=9007199254740992)return c(0,t);if(-9007199254740992<=t&&t<0)return c(1,-(t+1))}return u(251),function(e){o(i(8).setFloat64(a,e))}(t);case"string":var n=[];for(r=0;r<t.length;++r){var l=t.charCodeAt(r);l<128?n.push(l):l<2048?(n.push(192|l>>6),n.push(128|63&l)):l<55296?(n.push(224|l>>12),n.push(128|l>>6&63),n.push(128|63&l)):(l=(1023&l)<<10,l|=1023&t.charCodeAt(++r),l+=65536,n.push(240|l>>18),n.push(128|l>>12&63),n.push(128|l>>6&63),n.push(128|63&l))}return c(3,n.length),s(n);default:var f;if(Array.isArray(t))for(c(4,f=t.length),r=0;r<f;++r)e(t[r]);else if(t instanceof Uint8Array)c(2,t.length),s(t);else{var p=Object.keys(t);for(c(5,f=p.length),r=0;r<f;++r){var d=p[r];e(d),e(t[d])}}}}(e),"slice"in r)return r.slice(0,a);for(var l=new ArrayBuffer(a),f=new DataView(l),p=0;p<a;++p)f.setUint8(p,n.getUint8(p));return l},decode:function(e,t,r){var n=new DataView(e),a=0;function i(e,t){return a+=e,t}function o(t){return i(t,new Uint8Array(e,a,t))}function u(){return i(1,n.getUint8(a))}function s(){return i(2,n.getUint16(a))}function c(){return i(4,n.getUint32(a))}function l(){return 255===n.getUint8(a)&&(a+=1,!0)}function f(e){if(e<24)return e;if(24===e)return u();if(25===e)return s();if(26===e)return c();if(27===e)return 4294967296*c()+c();if(31===e)return-1;throw"Invalid length encoding"}function p(e){var t=u();if(255===t)return-1;var r=f(31&t);if(r<0||t>>5!==e)throw"Invalid indefinite length element";return r}function d(e,t){for(var r=0;r<t;++r){var n=u();128&n&&(n<224?(n=(31&n)<<6|63&u(),t-=1):n<240?(n=(15&n)<<12|(63&u())<<6|63&u(),t-=2):(n=(15&n)<<18|(63&u())<<12|(63&u())<<6|63&u(),t-=3)),n<65536?e.push(n):(n-=65536,e.push(55296|n>>10),e.push(56320|1023&n))}}"function"!==typeof t&&(t=function(e){return e}),"function"!==typeof r&&(r=function(){});var m=function e(){var c,m,h=u(),b=h>>5,g=31&h;if(7===b)switch(g){case 25:return function(){var e=new ArrayBuffer(4),t=new DataView(e),r=s(),n=32768&r,a=31744&r,i=1023&r;if(31744===a)a=261120;else if(0!==a)a+=114688;else if(0!==i)return(n?-1:1)*i*5.960464477539063e-8;return t.setUint32(0,n<<16|a<<13|i<<13),t.getFloat32(0)}();case 26:return i(4,n.getFloat32(a));case 27:return i(8,n.getFloat64(a))}if((m=f(g))<0&&(b<2||6<b))throw"Invalid length";switch(b){case 0:return m;case 1:return-1-m;case 2:if(m<0){for(var v=[],w=0;(m=p(b))>=0;)w+=m,v.push(o(m));var y=new Uint8Array(w),_=0;for(c=0;c<v.length;++c)y.set(v[c],_),_+=v[c].length;return y}return o(m);case 3:var E=[];if(m<0)for(;(m=p(b))>=0;)d(E,m);else d(E,m);return String.fromCharCode.apply(null,E);case 4:var O;if(m<0)for(O=[];!l();)O.push(e());else for(O=new Array(m),c=0;c<m;++c)O[c]=e();return O;case 5:var x={};for(c=0;c<m||m<0&&!l();++c){x[e()]=e()}return x;case 6:return t(e(),m);case 7:switch(m){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;default:return r(m)}}}();if(a!==e.byteLength)throw"Remaining bytes";return m}};e.exports?e.exports=n:t.CBOR||(t.CBOR=n)}(this)},62:function(e,t,r){"use strict";var n=r(0),a=r.n(n),i=r(25),o=r.n(i),u=r(71),s=r.n(u);t.a=function(e){var t=e.type,r=void 0===t?"button":t,n=e.children,i=e.disabled,u=e.submitting,c=e.onClick,l=e.className;return a.a.createElement("button",{type:r,disabled:i||u,className:"".concat(s.a.button," ").concat(l),onClick:c},u?a.a.createElement(o.a,{size:5,color:"#292724",loading:!0}):n)}},63:function(e,t,r){"use strict";var n=r(73);r(74),r(75),r(76);n.initializeApp({apiKey:"AIzaSyBDpwgmlRzHFgKL5JiGpMyAHbP8vhiQS8Y",authDomain:"mypassword-d1f4f.firebaseapp.com",databaseURL:"https://mypassword-d1f4f.firebaseio.com",projectId:"mypassword-d1f4f",messagingSenderId:"414923111100",appId:"1:414923111100:web:acebf3c0f09ad922d22eb9"}),t.a=n},71:function(e,t,r){e.exports={button:"button_button__3p82B"}},72:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return f}));var n=r(57),a=r.n(n),i=r(58),o=r(10),u=r(68),s=r(63),c=r(60),l=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(r){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(Object(u.action)(o.a.LOGIN_FIREBASE_FETCHING)),t.prev=1,t.next=4,s.a.auth().signInWithEmailAndPassword(e.email.trim(),e.password.trim());case 4:return n=t.sent,t.next=7,Object(c.b)(e.email.trim());case 7:return t.abrupt("return",r((i=n,l=e.password.trim(),Object(u.action)(o.a.LOGIN_FIREBASE_FULFILLED,i,l))));case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",r((a=t.t0,Object(u.action)(o.a.LOGIN_FIREBASE_REJECTED,a))));case 13:case"end":return t.stop()}var a,i,l}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},f=function(){return function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(u.action)(o.a.LOGOUT_FETCHING)),e.prev=1,e.next=4,localStorage.removeItem("users");case 4:return e.next=6,s.a.auth().signOut();case 6:return e.abrupt("return",t(Object(u.action)(o.a.LOGOUT_FULFILLED)));case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",t((r=e.t0,Object(u.action)(o.a.LOGOUT_REJECTED,r))));case 12:case"end":return e.stop()}var r}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}},84:function(e,t,r){e.exports={container:"text-input_container__-16Gn",label:"text-input_label__1DFnE",labelText:"text-input_labelText__3rZnL",input:"text-input_input__iYmA8",error:"text-input_error__1GFd1",errorText:"text-input_errorText__1J0Vw"}},85:function(e,t,r){e.exports={container:"login_container__2teO8",logoContainer:"login_logoContainer__tV7f5",logoTitle:"login_logoTitle__3xBQ2",logoSubtitle:"login_logoSubtitle__3MGg7",form:"login_form__11Qp4",loginButton:"login_loginButton__1Ntm-",error:"login_error__1PEfx",message:"login_message__4VSX3"}},99:function(e,t,r){"use strict";r.r(t);var n=r(15),a=r(6),i=r(72),o=r(57),u=r.n(o),s=r(27),c=r(58),l=r(0),f=r.n(l),p=r(77),d=r(84),m=r.n(d),h=function(e){var t=e.meta,r=e.input,n=e.label,a=e.placeholder;return f.a.createElement("div",{className:m.a.container},f.a.createElement("label",{className:m.a.label},n&&f.a.createElement("span",{className:m.a.labelText},n),f.a.createElement("input",Object.assign({className:m.a.input,type:"text",placeholder:a},r))),f.a.createElement("div",{className:m.a.error},t.error&&t.touched&&f.a.createElement("span",{className:m.a.errorText},t.error)))},b=r(62),g=r(78),v=r(85),w=r.n(v),y=function(e){var t=e.isFetching,r=function(){var t=Object(c.a)(u.a.mark((function t(r){var n,a,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.password,a=r.email,t.prev=1,t.next=4,e.loginWithFirebase({email:a,password:n});case 4:o=t.sent,t.t0=o.payload.code,t.next="auth/user-not-found"===t.t0?8:"auth/network-request-failed"===t.t0?10:"auth/wrong-password"===t.t0?12:"auth/argument-error"===t.t0?14:"auth/too-many-requests"===t.t0?16:18;break;case 8:return i="Usuario o contrase\xf1a incorrecta",t.abrupt("break",18);case 10:return i="Error de conexi\xf3n",t.abrupt("break",18);case 12:case 14:return i="Usuario o contrase\xf1a incorrecta",t.abrupt("break",18);case 16:return i="Muchos intentos fallidos. Intente en unos minutos.",t.abrupt("break",18);case 18:if(!i){t.next=20;break}return t.abrupt("return",Object(s.a)({},g.a,i));case 20:t.next=25;break;case 22:return t.prev=22,t.t1=t.catch(1),t.abrupt("return",Object(s.a)({},g.a,t.t1));case 25:case"end":return t.stop()}}),t,null,[[1,22]])})));return function(e){return t.apply(this,arguments)}}();return f.a.createElement("div",{className:w.a.container},f.a.createElement("div",{className:w.a.logoContainer},f.a.createElement("div",{className:w.a.logoTitle},"MyPassword"),f.a.createElement("div",{className:w.a.logoSubtitle},"Keep all your passwords in one place")),f.a.createElement(p.b,{onSubmit:r,render:function(e){var r=e.handleSubmit,n=e.submitError,a=e.values;return f.a.createElement("form",{onSubmit:r,className:w.a.form},f.a.createElement(p.a,{name:"email",placeholder:"Email",type:"text",component:h}),f.a.createElement(p.a,{name:"password",placeholder:"Password",type:"password",component:h}),f.a.createElement("div",{className:w.a.loginButton},f.a.createElement(b.a,{type:"submit",disabled:t||!a.email||!a.password,submitting:t},"Login")),f.a.createElement("div",{className:w.a.error},n))}}),f.a.createElement("div",{className:w.a.message},"Your password is used to encrypt the other passwords stored in the database.",f.a.createElement("br",null),"If you forget this password, you will not be able to recover the other passwords."))};t.default=Object(n.b)((function(e){return{isFetching:e.auth.isFetching}}),(function(e){return Object(a.bindActionCreators)({loginWithFirebase:i.a},e)}))(y)}}]);
//# sourceMappingURL=5.5af84ab1.chunk.js.map