(this["webpackJsonpmy-password-pwa"]=this["webpackJsonpmy-password-pwa"]||[]).push([[11],{100:function(t,n,r){"use strict";r.d(n,"a",(function(){return o})),r.d(n,"b",(function(){return s})),r.d(n,"c",(function(){return f}));var e=r(82),a=r.n(e),u=r(90),i=r(96),c=r(32),o=function(t){return function(){var n=Object(u.a)(a.a.mark((function n(r){var e;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(i.a()),n.prev=1,n.next=4,c.a.app.auth().signInWithEmailAndPassword(t.email.trim(),t.password.trim());case 4:return e=n.sent,n.abrupt("return",r(i.b(e,t.password.trim())));case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt("return",r(i.c(n.t0)));case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(t){return n.apply(this,arguments)}}()},s=function(){return function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(i.d()),t.prev=1,t.next=4,localStorage.removeItem("users");case 4:return t.next=6,c.a.app.auth().signOut();case 6:return t.abrupt("return",n(i.e()));case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",n(i.f(t.t0)));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(n){return t.apply(this,arguments)}}()},f=function(t){return function(){var n=Object(u.a)(a.a.mark((function n(r){var e;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(i.h()),n.prev=1,n.next=4,c.a.app.auth().createUserWithEmailAndPassword(t.email.trim(),t.password.trim());case 4:return e=n.sent,n.abrupt("return",r(i.i(e)));case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt("return",r(i.j(n.t0)));case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(t){return n.apply(this,arguments)}}()}},149:function(t,n,r){"use strict";r.d(n,"b",(function(){return c})),r.d(n,"a",(function(){return o}));var e=r(82),a=r.n(e),u=r(90),i=r(150),c=function(){var t=Object(u.a)(a.a.mark((function t(n){var r,e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={challenge:Uint8Array.from("someChallengeIsHereComOn",(function(t){return t.charCodeAt(0)})),rp:{name:"WebAuthn Test"},user:{id:Uint8Array.from(n,(function(t){return t.charCodeAt(0)})),name:n,displayName:n},pubKeyCredParams:[{alg:-7,type:"public-key"}],authenticatorSelection:{authenticatorAttachment:"platform"},timeout:6e4,attestation:"direct"},t.next=3,navigator.credentials.create({publicKey:r});case 3:e=t.sent,s(e);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),o=function(){var t=localStorage.getItem("users"),n=(t?JSON.parse(t):[]).credentials.map((function(t){return{type:"public-key",id:Uint8Array.from(Object.values(t.credentialId))}})),r={challenge:Uint8Array.from("someChallengeIsHereComOn",(function(t){return t.charCodeAt(0)})),allowCredentials:n};return navigator.credentials.get({publicKey:r})},s=function(t){var n={credentials:[]},r=l(t),e=f(r),a=r.slice(55,55+e),u=r.slice(55+e);return n.credentials.push({credentialId:a,publicKey:u}),n.id=""+Math.floor(1e7*Math.random()),localStorage.setItem("users",JSON.stringify(n)),!0},f=function(t){var n=new DataView(new ArrayBuffer(2));return t.slice(53,55).forEach((function(t,r){return n.setUint8(r,t)})),n.getUint16(0)},l=function(t){return i.decode(t.response.attestationObject).authData}},150:function(t,n,r){!function(n,r){"use strict";var e={encode:function(t){var n,r=new ArrayBuffer(256),e=new DataView(r),a=0;function u(t){for(var u=r.byteLength,i=a+t;u<i;)u<<=1;if(u!==r.byteLength){var c=e;r=new ArrayBuffer(u),e=new DataView(r);for(var o=a+3>>2,s=0;s<o;++s)e.setUint32(s<<2,c.getUint32(s<<2))}return n=t,e}function i(){a+=n}function c(t){i(u(1).setUint8(a,t))}function o(t){for(var n=u(t.length),r=0;r<t.length;++r)n.setUint8(a+r,t[r]);i()}function s(t,n){n<24?c(t<<5|n):n<256?(c(t<<5|24),c(n)):n<65536?(c(t<<5|25),function(t){i(u(2).setUint16(a,t))}(n)):n<4294967296?(c(t<<5|26),function(t){i(u(4).setUint32(a,t))}(n)):(c(t<<5|27),function(t){var n=t%4294967296,r=(t-n)/4294967296,e=u(8);e.setUint32(a,r),e.setUint32(a+4,n),i()}(n))}if(function t(n){var r;if(!1===n)return c(244);if(!0===n)return c(245);if(null===n)return c(246);if(void 0===n)return c(247);switch(typeof n){case"number":if(Math.floor(n)===n){if(0<=n&&n<=9007199254740992)return s(0,n);if(-9007199254740992<=n&&n<0)return s(1,-(n+1))}return c(251),function(t){i(u(8).setFloat64(a,t))}(n);case"string":var e=[];for(r=0;r<n.length;++r){var f=n.charCodeAt(r);f<128?e.push(f):f<2048?(e.push(192|f>>6),e.push(128|63&f)):f<55296?(e.push(224|f>>12),e.push(128|f>>6&63),e.push(128|63&f)):(f=(1023&f)<<10,f|=1023&n.charCodeAt(++r),f+=65536,e.push(240|f>>18),e.push(128|f>>12&63),e.push(128|f>>6&63),e.push(128|63&f))}return s(3,e.length),o(e);default:var l;if(Array.isArray(n))for(s(4,l=n.length),r=0;r<l;++r)t(n[r]);else if(n instanceof Uint8Array)s(2,n.length),o(n);else{var p=Object.keys(n);for(s(5,l=p.length),r=0;r<l;++r){var h=p[r];t(h),t(n[h])}}}}(t),"slice"in r)return r.slice(0,a);for(var f=new ArrayBuffer(a),l=new DataView(f),p=0;p<a;++p)l.setUint8(p,e.getUint8(p));return f},decode:function(t,n,r){var e=new DataView(t),a=0;function u(t,n){return a+=t,n}function i(n){return u(n,new Uint8Array(t,a,n))}function c(){return u(1,e.getUint8(a))}function o(){return u(2,e.getUint16(a))}function s(){return u(4,e.getUint32(a))}function f(){return 255===e.getUint8(a)&&(a+=1,!0)}function l(t){if(t<24)return t;if(24===t)return c();if(25===t)return o();if(26===t)return s();if(27===t)return 4294967296*s()+s();if(31===t)return-1;throw"Invalid length encoding"}function p(t){var n=c();if(255===n)return-1;var r=l(31&n);if(r<0||n>>5!==t)throw"Invalid indefinite length element";return r}function h(t,n){for(var r=0;r<n;++r){var e=c();128&e&&(e<224?(e=(31&e)<<6|63&c(),n-=1):e<240?(e=(15&e)<<12|(63&c())<<6|63&c(),n-=2):(e=(15&e)<<18|(63&c())<<12|(63&c())<<6|63&c(),n-=3)),e<65536?t.push(e):(e-=65536,t.push(55296|e>>10),t.push(56320|1023&e))}}"function"!==typeof n&&(n=function(t){return t}),"function"!==typeof r&&(r=function(){});var d=function t(){var s,d,v=c(),g=v>>5,w=31&v;if(7===g)switch(w){case 25:return function(){var t=new ArrayBuffer(4),n=new DataView(t),r=o(),e=32768&r,a=31744&r,u=1023&r;if(31744===a)a=261120;else if(0!==a)a+=114688;else if(0!==u)return(e?-1:1)*u*5.960464477539063e-8;return n.setUint32(0,e<<16|a<<13|u<<13),n.getFloat32(0)}();case 26:return u(4,e.getFloat32(a));case 27:return u(8,e.getFloat64(a))}if((d=l(w))<0&&(g<2||6<g))throw"Invalid length";switch(g){case 0:return d;case 1:return-1-d;case 2:if(d<0){for(var b=[],m=0;(d=p(g))>=0;)m+=d,b.push(i(d));var y=new Uint8Array(m),O=0;for(s=0;s<b.length;++s)y.set(b[s],O),O+=b[s].length;return y}return i(d);case 3:var U=[];if(d<0)for(;(d=p(g))>=0;)h(U,d);else h(U,d);return String.fromCharCode.apply(null,U);case 4:var A;if(d<0)for(A=[];!f();)A.push(t());else for(A=new Array(d),s=0;s<d;++s)A[s]=t();return A;case 5:var E={};for(s=0;s<d||d<0&&!f();++s){E[t()]=t()}return E;case 6:return n(t(),d);case 7:switch(d){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;default:return r(d)}}}();if(a!==t.byteLength)throw"Remaining bytes";return d}};t.exports?t.exports=e:n.CBOR||(n.CBOR=e)}(this)},397:function(t,n,r){t.exports={container:"auth_container__3M9A_"}},541:function(t,n,r){"use strict";r.r(n);var e=r(23),a=r(9),u=r(100),i=r(82),c=r.n(i),o=r(90),s=r(0),f=r.n(s),l=r(14),p=r(149),h=r(397),d=r.n(h),v=function(){var t=Object(o.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.clipboard.writeText(n);case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),g=function(t){var n=t.authenticated,r=t.password,e=t.logout,a=t.useFingerPrint,u=Object(l.f)();return Object(s.useEffect)((function(){if(n)if(r)if(a){localStorage.getItem("users")?Object(p.a)().then((function(t){console.log("webAuthnSignin - response",t),v(JSON.stringify(t)),u.replace("/home")})).catch((function(t){console.log("webAuthnSignin - error",t),v(JSON.stringify(t)),e()})):Object(p.b)("randomUser").then((function(t){v(JSON.stringify(t)),console.log("webAuthnSignin (randomUser) - response",t),u.replace("/home")})).catch((function(t){v(JSON.stringify(t)),console.log("webAuthnSignin (randomUser) - error",t),e()}))}else a||u.replace("/home");else e()}),[n,u,r,e,a]),f.a.createElement("div",{className:d.a.container})};n.default=Object(e.b)((function(t){var n;return{authenticated:t.auth.authenticated,password:null===(n=t.auth.user)||void 0===n?void 0:n.password,useFingerPrint:t.auth.useFingerPrint}}),(function(t){return Object(a.bindActionCreators)({logout:u.b},t)}))(g)},96:function(t,n,r){"use strict";r.d(n,"a",(function(){return u})),r.d(n,"b",(function(){return i})),r.d(n,"c",(function(){return c})),r.d(n,"d",(function(){return o})),r.d(n,"e",(function(){return s})),r.d(n,"f",(function(){return f})),r.d(n,"g",(function(){return l})),r.d(n,"h",(function(){return p})),r.d(n,"i",(function(){return h})),r.d(n,"j",(function(){return d}));var e=r(6),a=r(113),u=function(){return Object(a.action)(e.a.LOGIN_FIREBASE_FETCHING)},i=function(t,n){return Object(a.action)(e.a.LOGIN_FIREBASE_FULFILLED,t,n)},c=function(t){return Object(a.action)(e.a.LOGIN_FIREBASE_REJECTED,t)},o=function(){return Object(a.action)(e.a.LOGOUT_FETCHING)},s=function(){return Object(a.action)(e.a.LOGOUT_FULFILLED)},f=function(t){return Object(a.action)(e.a.LOGOUT_REJECTED,t)},l=function(t){return Object(a.action)(e.a.SET_FINGER_PRINT,t)},p=function(){return Object(a.action)(e.a.SIGN_UP_FIREBASE_FETCHING)},h=function(t){return Object(a.action)(e.a.SIGN_UP_FIREBASE_FULFILLED,t)},d=function(t){return Object(a.action)(e.a.SIGN_UP_FIREBASE_REJECTED,t)}}}]);
//# sourceMappingURL=11.a431199c.chunk.js.map